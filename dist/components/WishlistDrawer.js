import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from 'react';
import { X, Heart, Trash2, ShoppingCart, PlusCircle, AlertCircle, Check } from 'lucide-react';
const WishlistDrawer = ({ isOpen, onClose, items, onRemove, onMoveToCart }) => {
    const [pendingMoveBook, setPendingMoveBook] = useState(null);
    const handleConfirmMove = () => {
        if (pendingMoveBook) {
            onMoveToCart(pendingMoveBook);
            setPendingMoveBook(null);
        }
    };
    const handleCancelMove = () => {
        setPendingMoveBook(null);
    };
    return (_jsxs(_Fragment, { children: [_jsx("div", { className: `fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[60] transition-opacity duration-300 ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`, onClick: onClose }), _jsx("div", { className: `fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-[70] transform transition-transform duration-500 ease-out ${isOpen ? 'translate-x-0' : 'translate-x-full'}`, children: _jsxs("div", { className: "flex flex-col h-full relative", children: [pendingMoveBook && (_jsx("div", { className: "absolute inset-0 z-50 bg-white/95 backdrop-blur-sm flex items-center justify-center p-8 animate-in fade-in duration-300", children: _jsxs("div", { className: "text-center max-w-xs", children: [_jsx("div", { className: "w-16 h-16 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6", children: _jsx(AlertCircle, { className: "w-8 h-8" }) }), _jsx("h3", { className: "text-xl font-bold text-slate-900 mb-2", children: "Move to Cart?" }), _jsxs("p", { className: "text-slate-500 text-sm mb-8 leading-relaxed", children: ["Would you like to move ", _jsxs("span", { className: "font-bold text-slate-800", children: ["\"", pendingMoveBook.title, "\""] }), " from your wishlist to your shopping cart?"] }), _jsxs("div", { className: "flex flex-col gap-3", children: [_jsxs("button", { onClick: handleConfirmMove, className: "w-full py-3.5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-2 shadow-lg shadow-indigo-100", children: [_jsx(Check, { className: "w-5 h-5" }), "Confirm Move"] }), _jsx("button", { onClick: handleCancelMove, className: "w-full py-3.5 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition-all", children: "Cancel" })] })] }) })), _jsxs("div", { className: "p-6 border-b border-slate-100 flex items-center justify-between", children: [_jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Heart, { className: "w-6 h-6 text-rose-500 fill-rose-500" }), _jsx("h2", { className: "text-xl font-bold text-slate-800", children: "Saved for Later" })] }), _jsx("button", { onClick: onClose, className: "p-2 hover:bg-slate-100 rounded-full transition-colors", children: _jsx(X, { className: "w-6 h-6 text-slate-400" }) })] }), _jsx("div", { className: "flex-grow overflow-y-auto p-6", children: items.length === 0 ? (_jsxs("div", { className: "h-full flex flex-col items-center justify-center text-center space-y-4", children: [_jsx("div", { className: "w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center", children: _jsx(Heart, { className: "w-10 h-10 text-rose-200" }) }), _jsxs("div", { children: [_jsx("p", { className: "text-slate-800 font-bold text-lg", children: "Your wishlist is empty" }), _jsx("p", { className: "text-slate-400 text-sm", children: "Save books you love to keep track of them." })] }), _jsx("button", { onClick: onClose, className: "px-6 py-2 bg-slate-900 text-white font-bold rounded-full hover:bg-slate-800 transition-colors", children: "Start Browsing" })] })) : (_jsx("div", { className: "space-y-6", children: items.map((item) => (_jsxs("div", { className: "flex gap-4 group animate-in fade-in slide-in-from-right-4 duration-300", children: [_jsx("div", { className: "w-20 h-28 bg-slate-100 rounded-lg overflow-hidden flex-shrink-0 shadow-sm", children: _jsx("img", { src: item.coverImage, alt: item.title, className: "w-full h-full object-cover" }) }), _jsxs("div", { className: "flex-grow flex flex-col justify-between py-1", children: [_jsxs("div", { children: [_jsxs("div", { className: "flex justify-between items-start mb-1", children: [_jsx("h3", { className: "font-bold text-slate-800 line-clamp-1 leading-tight pr-2", children: item.title }), _jsxs("div", { className: "flex items-center gap-1", children: [_jsx("button", { onClick: () => setPendingMoveBook(item), className: "text-slate-300 hover:text-indigo-600 transition-colors p-1", title: "Move to Cart", children: _jsx(PlusCircle, { className: "w-4 h-4" }) }), _jsx("button", { onClick: () => onRemove(item), className: "text-slate-300 hover:text-rose-500 transition-colors p-1", title: "Remove", children: _jsx(Trash2, { className: "w-4 h-4" }) })] })] }), _jsx("p", { className: "text-xs text-slate-400 mb-1", children: item.author }), _jsxs("p", { className: "text-sm font-bold text-indigo-600", children: ["$", item.price.toFixed(2)] })] }), _jsxs("button", { onClick: () => setPendingMoveBook(item), className: "flex items-center justify-center gap-2 w-full py-2.5 bg-indigo-50 text-indigo-600 rounded-xl hover:bg-indigo-600 hover:text-white transition-all text-xs font-bold mt-2", children: [_jsx(ShoppingCart, { className: "w-3.5 h-3.5" }), "Move to Cart"] })] })] }, item.id))) })) }), _jsx("div", { className: "p-6 bg-slate-50 border-t border-slate-100 text-center", children: _jsx("p", { className: "text-xs text-slate-500 font-medium italic", children: "Items in your wishlist are not reserved until purchased." }) })] }) })] }));
};
export default WishlistDrawer;
